import cv2 as cv
import numpy as np

cap=cv.VideoCapture('cartest.mp4')
retval, frame=cap.read()
frame=cv.resize(frame,None,fx=0.3,fy=0.3,interpolation=cv.INTER_AREA)

while True:
    retval, frame=cap.read()
    if not retval:
        break

    frame=cv.resize(frame,None,fx=0.3,fy=0.3,interpolation=cv.INTER_AREA)
    #print(frame)
    # Load the aerial image and convert to HSV colourspace
    #image = cv.imread("./test.png")
    hsv=cv.cvtColor(frame,cv.COLOR_BGR2HSV)

    # Define lower and uppper limits of what we call "brown"
    lower_red=np.array([150, 50, 50])
    upper_red=np.array([180, 255, 255])

    # Mask image to only select browns
    mask=cv.inRange(hsv,lower_red,upper_red)

    res = cv.bitwise_and(frame, frame, mask=mask)

    # Change image to red where we found brown

    cv.imshow("RESULT",frame)
    cv.imshow("RED", res)
    key=cv.waitKey(0)
    if key==27:
        break

 
if cap.isOpened():
    cap.release()
    
cv.destroyAllWindows()
